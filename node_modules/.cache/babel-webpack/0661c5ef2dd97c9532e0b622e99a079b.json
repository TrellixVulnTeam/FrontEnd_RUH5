{"ast":null,"code":"import _asyncToGenerator from \"/Users/khangtran/Documents/GitHub/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FeedItems } from \"../model/feed-items\";\nimport * as puppeteer from 'puppeteer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FeedService {\n  constructor(http) {\n    this.http = http;\n  }\n\n  getData() {\n    console.log(1234576);\n  }\n\n  getDataRss(url, data = {}) {\n    return this.http.get(url, data);\n  }\n\n  createListFeedItems(list, value) {\n    for (var i = 0; i <= value.items.length - 1; i++) {\n      var title = value.items[i].title;\n      var pubDate = value.items[i].pubDate;\n      var link = value.items[i].link;\n      var guid = value.items[i].guid;\n      var thumbnail = value.items[i].thumbnail;\n      var description = value.items[i].description;\n      var content = value.items[i].content;\n      console.log('test data');\n      let feedItems = new FeedItems({\n        title,\n        pubDate,\n        link,\n        guid,\n        thumbnail,\n        description,\n        content\n      });\n      list.push(feedItems);\n    }\n\n    ;\n  }\n\n  getDataDetail(url) {\n    _asyncToGenerator(function* () {\n      const browser = yield puppeteer.launch();\n      const page = yield browser.newPage();\n      yield page.goto(\"https://www.nhaccuatui.com/bai-hat/top-20.html\");\n      const songs = yield page.evaluate(() => {\n        let items = document.querySelectorAll(\".name_song\");\n        let links = [];\n        items.forEach(item => {\n          links.push({\n            title: item.textContent,\n            url: item.getAttribute(\"href\")\n          });\n        });\n        return links;\n      });\n      console.log(songs);\n      yield browser.close();\n    })();\n  }\n\n}\n\nFeedService.ɵfac = function FeedService_Factory(t) {\n  return new (t || FeedService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nFeedService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FeedService,\n  factory: FeedService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/khangtran/Documents/GitHub/FrontEnd/src/app/feed/service/feed.service.ts"],"names":[],"mappings":";AAGA,SAAQ,SAAR,QAAwB,qBAAxB;AACA,OAAO,KAAK,SAAZ,MAA2B,WAA3B;;;AAKA,OAAM,MAAO,WAAP,CAAkB;AAEtB,EAAA,WAAA,CAAoB,IAApB,EAAoC;AAAhB,SAAA,IAAA,GAAA,IAAA;AACnB;;AAED,EAAA,OAAO,GAAA;AACL,IAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACD;;AAED,EAAA,UAAU,CAAC,GAAD,EAAc,IAAA,GAAe,EAA7B,EAA+B;AACvC,WAAO,KAAK,IAAL,CAAU,GAAV,CAAc,GAAd,EAAmB,IAAnB,CAAP;AACD;;AAED,EAAA,mBAAmB,CAAC,IAAD,EAAoB,KAApB,EAA8B;AAC/C,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,IAAI,KAAK,CAAC,KAAN,CAAY,MAAZ,GAAqB,CAA1C,EAA6C,CAAC,EAA9C,EAAkD;AAChD,UAAI,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,KAA3B;AACA,UAAI,OAAO,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,OAA7B;AACA,UAAI,IAAI,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,IAA1B;AACA,UAAI,IAAI,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,IAA1B;AACA,UAAI,SAAS,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,SAA/B;AACA,UAAI,WAAW,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,WAAjC;AACA,UAAI,OAAO,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,EAAe,OAA7B;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;AACA,UAAI,SAAS,GAAG,IAAI,SAAJ,CAAc;AAAC,QAAA,KAAD;AAAQ,QAAA,OAAR;AAAiB,QAAA,IAAjB;AAAuB,QAAA,IAAvB;AAA6B,QAAA,SAA7B;AAAwC,QAAA,WAAxC;AAAqD,QAAA;AAArD,OAAd,CAAhB;AACA,MAAA,IAAI,CAAC,IAAL,CAAU,SAAV;AACD;;AACD;AACD;;AAGD,EAAA,aAAa,CAAC,GAAD,EAAY;AACvB,sBAAC,aAAW;AACV,YAAM,OAAO,SAAS,SAAS,CAAC,MAAV,EAAtB;AACA,YAAM,IAAI,SAAS,OAAO,CAAC,OAAR,EAAnB;AACA,YAAM,IAAI,CAAC,IAAL,CAAU,gDAAV,CAAN;AAEA,YAAM,KAAK,SAAS,IAAI,CAAC,QAAL,CAAc,MAAK;AACrC,YAAI,KAAK,GAAG,QAAQ,CAAC,gBAAT,CAA0B,YAA1B,CAAZ;AACA,YAAI,KAAK,GAAU,EAAnB;AACA,QAAA,KAAK,CAAC,OAAN,CAAc,IAAI,IAAG;AACnB,UAAA,KAAK,CAAC,IAAN,CAAW;AACT,YAAA,KAAK,EAAE,IAAI,CAAC,WADH;AAET,YAAA,GAAG,EAAE,IAAI,CAAC,YAAL,CAAkB,MAAlB;AAFI,WAAX;AAID,SALD;AAOA,eAAO,KAAP;AACD,OAXmB,CAApB;AAYA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,YAAM,OAAO,CAAC,KAAR,EAAN;AACD,KAnBD;AAqBD;;AApDqB;;;mBAAX,W,EAAW,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAAX,W;AAAW,EAAA,OAAA,EAAX,WAAW,CAAA,I;AAAA,EAAA,UAAA,EAFV","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Observable} from \"rxjs\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {FeedItems} from \"../model/feed-items\";\nimport * as puppeteer from 'puppeteer';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData() {\n    console.log(1234576);\n  }\n\n  getDataRss(url: string, data: object = {}): Observable<any> {\n    return this.http.get(url, data);\n  }\n\n  createListFeedItems(list: FeedItems[], value: any) {\n    for (var i = 0; i <= value.items.length - 1; i++) {\n      var title = value.items[i].title;\n      var pubDate = value.items[i].pubDate;\n      var link = value.items[i].link;\n      var guid = value.items[i].guid;\n      var thumbnail = value.items[i].thumbnail;\n      var description = value.items[i].description;\n      var content = value.items[i].content;\n      console.log('test data');\n      let feedItems = new FeedItems({title, pubDate, link, guid, thumbnail, description, content});\n      list.push(feedItems);\n    }\n    ;\n  }\n\n\n  getDataDetail(url: string){\n    (async () => {\n      const browser = await puppeteer.launch();\n      const page = await browser.newPage();\n      await page.goto(\"https://www.nhaccuatui.com/bai-hat/top-20.html\");\n\n      const songs = await page.evaluate(() => {\n        let items = document.querySelectorAll(\".name_song\");\n        let links: any[] = [];\n        items.forEach(item => {\n          links.push({\n            title: item.textContent,\n            url: item.getAttribute(\"href\")\n          });\n        });\n\n        return links;\n      });\n      console.log(songs);\n      await browser.close();\n    })();\n\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}